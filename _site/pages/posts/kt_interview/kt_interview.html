<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Junwoo Kim">
<meta name="dcterms.date" content="2024-05-26">
<meta name="description" content="KT AI Engineer 지원항목 정리">

<title>junwkim’s blog - KT 지원 Summary</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">junwkim’s blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../pages/technical_writing.html"> 
<span class="menu-text">technical writing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../pages/posts.html"> 
<span class="menu-text">posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../pages/papers.html"> 
<span class="menu-text">papers</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../main.html"> 
<span class="menu-text">Back To Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">KT 지원 Summary</h1>
</div>

<div>
  <div class="description">
    <p>KT AI Engineer 지원항목 정리</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Junwoo Kim </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 26, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="지원자가-보는-kt는-어떤-회사라고-생각하십니까-업무환경-현재의-상황-비전-기업문화-등-자유롭게-기술-그리고-지원자는-kt에서-어떤-역할을-하고-싶은지-구체적으로-기술하여-주십시오.-최소-500자" class="level3">
<h3 class="anchored" data-anchor-id="지원자가-보는-kt는-어떤-회사라고-생각하십니까-업무환경-현재의-상황-비전-기업문화-등-자유롭게-기술-그리고-지원자는-kt에서-어떤-역할을-하고-싶은지-구체적으로-기술하여-주십시오.-최소-500자">지원자가 보는 KT는 어떤 회사라고 생각하십니까? (업무환경, 현재의 상황, 비전, 기업문화 등 자유롭게 기술) 그리고 지원자는 KT에서 어떤 역할을 하고 싶은지 구체적으로 기술하여 주십시오. (최소 500자)</h3>
<p>KT는 국내 최고의 통신 인프라를 바탕으로 AI, 빅데이터 등 최신 ICT 기술을 선도하는 기업이라고 생각합니다. 고객 관점에서 축적된 방대한 데이터를 AI와 접목하여 차별화된 서비스를 제공하고, 이를 통해 고객 가치와 편의성을 극대화하려 하고 있습니다. 또한 KT는 디지털 전환과 ESG 경영을 핵심 전략으로 삼아 지속가능한 성장을 추구하는 비전을 가지고 있습니다. 구성원 개개인의 창의성과 자율성이 존중받는 수평적이고 유연한 조직문화를 바탕으로, 자기주도적으로 업무를 수행하며 역량을 발전시킬 수 있는 환경이 조성되어 있다고 판단됩니다.</p>
<p>저는 추천 서비스 개발과 LLM 엔지니어링 양쪽에서 축적한 경험과 전문성을 KT에서 발휘하고 싶습니다. 지마켓에서 홈 개인화, 통합 추천 모델 구축 등 실제 서비스에 적용된 추천 시스템을 개발한 경험이 있습니다. 태그 기반 검색, 벡터 검색, 랭킹 최적화 등 추천 알고리즘의 전반적인 파이프라인을 구축하고 고도화하는 프로젝트를 담당했습니다. 이런 추천 엔지니어로서의 역량을 바탕으로 KT의 다양한 서비스에 최적화된 개인화 추천 프레임워크를 설계하고 구현하는데 기여하고 싶습니다.</p>
<p>최신 LLM 기술을 활용하여 보다 범용적이고 확장성 있는 추천 모델을 연구하는데도 역량을 집중하겠습니다. Polyglot-ko 기반의 파운데이션 모델을 개발하고 파라미터 효율적 학습 기법을 적용한 경험이 있어, 대규모 언어 모델을 추천 태스크에 응용하는 연구를 수행할 수 있을 것입니다. 나아가 이를 멀티모달 데이터, 온라인 학습 등과 결합하여 KT만의 차별화된 지능형 추천 서비스를 실현하는 것이 목표입니다.</p>
<p>이처럼 추천 시스템 엔지니어링과 LLM 연구 양쪽에서의 전문성을 융합하여, KT 의 AI 서비스 발전에 기여할 수 있을 것으로 확신합니다.</p>
</section>
<section id="본인의-직무역량과-전문성에-대해-객관적으로-판단하였을-때-강점과-약점은-무엇이라고-생각하십니까-그렇게-생각한-이유는-무엇인지-업무경력에-기반하여-기술하여-주십시오.-최소-500자" class="level3">
<h3 class="anchored" data-anchor-id="본인의-직무역량과-전문성에-대해-객관적으로-판단하였을-때-강점과-약점은-무엇이라고-생각하십니까-그렇게-생각한-이유는-무엇인지-업무경력에-기반하여-기술하여-주십시오.-최소-500자">본인의 직무역량과 전문성에 대해 객관적으로 판단하였을 때, 강점과 약점은 무엇이라고 생각하십니까? 그렇게 생각한 이유는 무엇인지 업무경력에 기반하여 기술하여 주십시오. (최소 500자)</h3>
<p>저의 가장 큰 강점은 실제 서비스에 적용 가능한 추천 시스템을 설계하고 개발해본 풍부한 실무 경험이라고 생각합니다. 지마켓에서 2년 가까이 개인화 및 추천 모델 개발을 담당하며, 홈 개인화 프로젝트를 통해 GMV 26% 향상이라는 성과를 거두었습니다. 이는 추천 알고리즘 개발뿐만 아니라 대용량 로그 데이터 처리, AB 테스트 수행, 서비스 KPI 설정 및 모니터링 등 추천 시스템 구축의 전 과정을 주도적으로 경험한 결과물입니다.</p>
<p>뿐만 아니라 최신 연구 트렌드를 빠르게 캐치하여 서비스에 적용하려 노력합니다. SR-SAN 논문을 바탕으로 Transformer 기반 개인화 모델을 개발하고, Online Learning to Rank 기법을 도입하여 실시간 랭킹 최적화를 구현한 것이 대표적인 사례입니다. 이처럼 실무 경험과 연구 역량을 겸비하여 학계와 산업계의 gap을 메우는 것이 저만의 차별점이라 할 수 있겠습니다.</p>
<p>최근에는 LLM을 활용한 추천 모델 연구를 진행 중에 있습니다. 자연어 처리 분야의 급격한 발전 속도를 감안할 때, LLM에 대한 심화된 이해와 활용이 다소 부족한 것이 아쉬운 점입니다. 하지만 Polyglot-ko 기반 파운데이션 모델 개발과 PEFT 학습 등 기초적인 연구는 진행하였고, LLM Agent System과 고속추론 최적화 Framework 등에 대한 서베이와 토이 프로젝트는 계속해서 진행중입니다. 최근에는 이러한 내용들을 기반으로 한 사내 GPT 서비스인 ChatGPT를 개발하고 있습니다.</p>
<p>이처럼 실무 경험을 통해 검증된 추천 시스템 개발 역량과, 이를 뒷받침하는 ML/DL 기술 전문성이 저의 가장 큰 강점입니다. 아직 보완해야 할 부분이 있지만, 끊임없는 학습과 경험의 축적을 통해 KT에서 요구하는 인재상에 부합하는 AI 엔지니어로 성장하는 중입니다.</p>
</section>
<section id="직무-관련하여-가장-성공적으로-수행했던-project-경험을-다음의-요소를-포함하여-설명하여-주십시오.-1.-프로젝트-기간-및-목표-2.-프로젝트-구성원-3.-프로젝트-수행-시-사용한-기술적전문적-요소-4.-나의-기여도와-그에-대한-근거-5.-프로젝트를-진행한-프로세스-5.-프로젝트에-대한-객관적-성과-최소-500자" class="level3">
<h3 class="anchored" data-anchor-id="직무-관련하여-가장-성공적으로-수행했던-project-경험을-다음의-요소를-포함하여-설명하여-주십시오.-1.-프로젝트-기간-및-목표-2.-프로젝트-구성원-3.-프로젝트-수행-시-사용한-기술적전문적-요소-4.-나의-기여도와-그에-대한-근거-5.-프로젝트를-진행한-프로세스-5.-프로젝트에-대한-객관적-성과-최소-500자">직무 관련하여 가장 성공적으로 수행했던 Project 경험을 다음의 요소를 포함하여 설명하여 주십시오. (1. 프로젝트 기간 및 목표 2. 프로젝트 구성원 3. 프로젝트 수행 시 사용한 기술적/전문적 요소 4. 나의 기여도와 그에 대한 근거 5. 프로젝트를 진행한 프로세스 5. 프로젝트에 대한 객관적 성과) (최소 500자)</h3>
<p>지마켓 홈 개인화 프로젝트는 제가 추천 엔지니어로서의 역량을 가장 잘 발휘할 수 있었던 프로젝트였습니다. 2022년 8월부터 약 1년간 프로젝트 개발 및 개선을 맡아, 고객 관심사에 최적화된 상품을 추천함으로써 사용자 경험을 개선하고 GMV를 향상시키는 것을 목표로 프로젝트를 수행했습니다특히 Front Engineering 팀, Data Platform팀과의 협업을 통해 개인화 추천 시스템을 처음부터 구축해나가는 과정 자체가 뜻깊은 도전이었습니다.</p>
<p>프로젝트를 진행하며 추천 알고리즘과 서비스를 지속적으로 고도화했던 경험이 저의 가장 큰 자산이 되었습니다. Phase 1에서는 Elasticsearch 기반의 태그 검색과 Spring API 구축을 통해 개인화 추천의 기반을 다졌습니다. 이후 Phase 2에서는 최신 논문을 참고하여 Transformer 기반의 Session-based Recommendation 모델을 개발하고 벡터 검색을 도입함으로써, 추천의 다양성과 개인화 정확도를 개선할 수 있었습니다. 나아가 Phase 3에서는 Online Learning to Rank 기법을 활용하여 고객 반응을 실시간으로 랭킹에 반영하는 로직을 구현하였고, 이를 통해 보다 동적이고 진화하는 추천 서비스의 기반을 마련하였습니다.</p>
<p>추천 알고리즘 개발뿐만 아니라, 이를 뒷받침하는 데이터 파이프라인과 서비스 아키텍처를 구축하는 것도 중요한 과제였습니다. Spark와 Hive를 활용하여 대용량 로그 데이터를 전처리하고 분석할 수 있는 체계를 마련하였고, Airflow를 도입하여 배치 추천 및 벡터 인덱싱 작업을 안정적으로 스케줄링할 수 있었습니다. 서비스의 점진적인 개선을 A/B 테스트를 적용하고, 핵심 지표를 선정하여 모니터링하는 프로세스도 정립해나갔습니다.</p>
<p>개인화 추천 적용 이후 추천을 받은 고객의 GMV가 26% 증가하였고, CTR 최대 35% 향상, CVR 최대 20% 향상 등 사용자 반응도 큰 폭으로 개선되었습니다. 정량적 성과 외에도 추천 다양성 지표가 향상되어 고객 만족도 제고에도 기여할 수 있었던 점이 의미 있는 성과였습니다. 무엇보다 엔지니어링을 통한 비즈니스 임팩트를 만들어냈다는 점에서, 추천 엔지니어로서 한 단계 성장할 수 있는 소중한 경험이었습니다.</p>
</section>
<section id="지원직무와-관련한-경력-및-프로젝트-경험들에-대해-구체적으로-기술해-주십시오.내용역할사용-toolskill성과-등-경력기술서-형식-최소-2000자" class="level3">
<h3 class="anchored" data-anchor-id="지원직무와-관련한-경력-및-프로젝트-경험들에-대해-구체적으로-기술해-주십시오.내용역할사용-toolskill성과-등-경력기술서-형식-최소-2000자">지원직무와 관련한 경력 및 프로젝트 경험들에 대해 구체적으로 기술해 주십시오.(내용/역할/사용 Tool&amp;Skill/성과 등 경력기술서 형식) (최소 2,000자)</h3>
<p>그동안 추천 시스템과 검색 엔진 개발을 중점적으로 경험하며 ML 엔지니어로서의 역량을 소개드리겠습니다.</p>
<p>지마켓에서는 개인화 추천 알고리즘을 개발하고 서비스에 적용하는 프로젝트를 개발하며 추천/ML 엔지니어로 근무했습니다. 초기에는 상품 정보를 분류명, 카테고리 등의 태그로 인덱싱하고 사용자 관심사를 태그 검색 쿼리로 표현하여 개인화 추천을 구현했습니다. 관심사의 표현력을 높이기 위해 Elasticsearch 쿼리 튜닝과 웨이트 최적화를 수행했고, Spring 기반 API 서버 개발로 검색 결과를 제공하는 시스템을 구축했습니다.</p>
<p>다음 단계로 추천 다양성 개선을 위해 Transformer 기반 Next-Step 예측 모델로 전환했습니다. 사용자 상품 조회 이력을 인코딩한 Embedding 벡터를 활용해 연관성이 높은 상품을 검색할 수 있게 되었죠. 모델 개발과 벡터 검색 구현, Airflow 기반 학습/배포 자동화 파이프라인 구축을 담당했습니다.</p>
<p>마지막으로 사용자 피드백을 활용한 랭킹 최적화 단계, 이른바 Re-Ranking 구축을 진행했습니다. 클릭/구매 로그를 통해 사용자-상품 관련도와 노출 위치에 따른 편향성 보정값을 실시간으로 반영하여 랭킹을 재정렬 하는 모델을 개발하고 실서비스에 적용했습니다. 이를 통해 개인화 추천을 적용한 사용자의 GMV 최대 26%, CTR 최대 35%를 끌어올릴 수 있었습니다. 개인화 홈 추천이 비즈니스 성장에 엔지니어링으로 기여하는 대표적인 사내 사례가 되었습니다.</p>
<p>또한 대규모 언어 모델(LLM)을 활용한 범용 추천 모델 개발에도 매진하고 있습니다. Huggingface의 한국어 LLM인 Polyglot-Ko 모델을 기반으로 추천 도메인 지식을 학습시켜 추천 태스크에 맞는 foundation 모델을 만들고, 이를 개별 추천 서비스에 transfer learning 하는 것이 목표입니다. 제한된 리소스 내에서 대형 모델을 효율적으로 학습시키기 위해 LoRA, QLoRA 등 PEFT(Parameter Efficient Fine-Tuning) 기법들을 적극 활용하고 있습니다. 현재까지 LLM 기반 통합 추천의 개념 증명(PoC)은 완료된 상태이며, 실제 추천 서비스에의 적용을 위한 연구를 이어가는 중입니다. 최근에는 LLM Agent System과 고속추론 최적화 Framework 등에 대한 서베이와 토이 프로젝트를 계속해서 진행중입니다.</p>
<p>무신사에서는 사용자가 업로드한 의류 이미지와 유사한 상품을 검색해주는 서비스를 개발했습니다. 딥러닝 기반 객체 탐지(YOLO v3), 분류(InceptionNet), 임베딩(Metric Learning) 모델을 PyTorch와 Darknet으로 학습하고, Airflow로 배치 학습 자동화 파이프라인을 구현하였으며, Elasticsearch로 벡터 검색 엔진을 구축했습니다. 또한 FastAPI로 검색 API 서버를 개발하고, Kubernetes(EKS)로 MSA 아키텍처 기반 서비스를 구현하는 등 MLOps 체계를 구축하는 역할을 수행했습니다. 그 결과 자체 개발 기술로 외부 솔루션을 대체함으로써 연간 라이선스 비용을 크게 절감하고, 전략적으로 중요한 이미지 검색의 내재화에 성공할 수 있었습니다.</p>
<p>이처럼 추천과 검색이라는 핵심 AI 분야에서 실제 서비스 개발과 연구를 병행해오며 ML 엔지니어로서의 역량을 쌓아왔습니다. 최신 머신러닝 알고리즘과 프레임워크에 대한 깊이있는 이해를 바탕으로 추천/검색 시스템의 end-to-end 개발 경험이 풍부하고, 대용량 데이터 처리와 서비스 구축을 위한 엔지니어링 역량도 겸비하고 있습니다. MLOps 체계 수립과 머신러닝 파이프라인 자동화, 서비스 아키텍처 설계 등 엔지니어링 영역에서의 전문성도 보유하고 있으며, 여러 회사에서 추천/검색 서비스의 설계부터 모델링, 배포, 운영까지 전 과정을 리딩해본 경험이 있습니다. 앞으로도 업계를 선도하는 혁신적인 추천/검색 서비스를 AI 기술로 만들어내고 싶습니다. 최신 AI 연구를 빠르게 캐치업하여 실제 비즈니스 문제 해결에 적용하는 일에 보람을 느끼며, 머신러닝의 비즈니스 임팩트를 극대화 하는데 기여하고 싶습니다.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>